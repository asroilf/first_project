{% extends 'accounts/layout.html' %}
<!-- 
{% block contentme %}
<h2>Parolni yangilashingiz mumkin:</h2>
<form method="post" accept=".">
    {% csrf_token %}
    {{ formMe.as_p }}
    <button type="submit">O'zgarishni saqlash</button>
</form>
{% endblock %} -->


{% load static %}
{% load django_bootstrap5 %}
{% block title%}Profile{% endblock %}
{% block head %}

    <link rel="stylesheet" href="{% static 'accounts/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>

        /* .mb-3 .form-label{
            display: none;
        } */

        .forrrm label{
            display: none;
        }

        .mb-3 #id_password{
            display:none;
        }
        .mb-3 .form-text{ display: none;}
    </style>
{% endblock %}
{% block navbar %}
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">
                <span class="logo-icon"><i class="fa fa-check-circle"></i></span>
                To-do App
            </a>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'readVazifa' %}"><i class="fa fa-list-ul"></i> To-do</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/historyVazifa/"><i class="fa fa-tasks"></i> Progress</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/profileFoydalanuvchi/"><i class="fa fa-user"></i> Profile</a>
                </li>
            </ul>
        </div>
    </nav>   
{% endblock %}

{% block content %}

    <h1>Mening sahifam</h1>
    <div class="info-change">
        <form action="{% url 'profileFoydalanuvchi'%}" method="get" id="get_info">
            <button type="submit" class="btn btn-primary" id="show">Shaxsiy malumotlar</button>
        </form>
        <form action="{% url 'changeProfile'%}" method="get" id="post_info">
            <button type="submit" class="btn btn-primary" id="change" style="background-color: rgb(108, 202, 95);">Uzgartirish</button>
        </form>
    </div>

    <div class="blue_zone">
        <h3>Sahifaga o'zgartirish kiritish:</h3>
        <form method="post"  action="{% url 'editFoydalanuvchi'%}" class="form forrrm">
            {% csrf_token %}
            {% bootstrap_form username_email %}
            <button type="submit" class="btn btn-primary">O'zgarishni saqlash</button>
        </form>
    </div>
    
    <div class="yellow_zone">
        <h3>Parolni yangilashingiz mumkin:</h3>
        <form method="post" accept="changeParolFoydalanuvchi">
            {% csrf_token %}
            {% bootstrap_form password %}
            <button type="submit" class="btn">O'zgarishni saqlash</button>
        </form>
    </div>

    <div class="red_zone">
        <form action="{% url 'logoutFoydalanuvchi' %}" method="post">
            {% csrf_token %}
            <button type="submit" class="logout">Sahifadan chiqish</button>
        </form>
        <form action="{% url 'deleteFoydalanuvchi' %}" method="post">
            {% csrf_token %}
            <button type="submit" class="delete">Sahifani o'chirish</button>
        </form>
    </div>
    
{% endblock %}

{% block script %}
<script>
// var prevButton = null;

// function changeColor(button) {
//   // Generate a random RGB color
//   var red = Math.floor(Math.random() * 256);
//   var green = Math.floor(Math.random() * 256);
//   var blue = Math.floor(Math.random() * 256);
//   var color = "rgb(" + red + ", " + green + ", " + blue + ")";
  
//   // Change the background color of the clicked button
//   button.style.backgroundColor = color;
  
//   // Reset the background color of the previous button
//   if (prevButton !== null && prevButton !== button) {
//     prevButton.style.backgroundColor = "";
//   }
  
//   // Store the current button as the previous button
//   prevButton = button;
// }
</script>
{% endblock %}